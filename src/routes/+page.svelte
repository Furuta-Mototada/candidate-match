<script lang="ts">
	import { onMount } from 'svelte';

	let stats = $state({
		totalBills: 0,
		totalMembers: 0,
		totalVotes: 0,
		sessionsAnalyzed: 0
	});

	let isLoading = $state(true);

	onMount(async () => {
		try {
			const response = await fetch('/api/stats');
			if (response.ok) {
				stats = await response.json();
			}
		} catch (err) {
			console.error('Error loading stats:', err);
		} finally {
			isLoading = false;
		}
	});
</script>

<svelte:head>
	<title>Candidate Match - ã‚ãªãŸã«åˆã†è­°å“¡ã‚’è¦‹ã¤ã‘ã‚ˆã†</title>
</svelte:head>

<div class="page">
	<!-- Hero Section -->
	<section class="hero">
		<div class="hero-badge">ğŸ‡¯ğŸ‡µ æ—¥æœ¬å›½ä¼šåˆ†æãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ </div>
		<h1 class="hero-title">
			ã‚ãªãŸã®æ”¿æ²»çš„ä¾¡å€¤è¦³ã«<br />
			<span class="gradient-text">æœ€ã‚‚è¿‘ã„è­°å“¡</span>ã‚’è¦‹ã¤ã‘ã‚ˆã†
		</h1>
		<p class="hero-subtitle">
			æ³•æ¡ˆã¸ã®è³›å¦ã‚’ç­”ãˆã‚‹ã ã‘ã§ã€AI ãŒå›½ä¼šè­°å“¡ã¨ã®ãƒãƒƒãƒåº¦ã‚’ç®—å‡ºã€‚
			åˆ†é‡åˆ¥ã®é‡è¦åº¦è¨­å®šã§ã€ã‚ãªãŸã ã‘ã®ç·åˆã‚¹ã‚³ã‚¢ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
		</p>
		<div class="hero-buttons">
			<a href="/match" class="btn-primary">
				ãƒãƒƒãƒãƒ³ã‚°ã‚’å§‹ã‚ã‚‹
				<span class="btn-arrow">â†’</span>
			</a>
			<a href="#features" class="btn-secondary">æ©Ÿèƒ½ã‚’è¦‹ã‚‹</a>
		</div>

		<!-- Trust indicators -->
		<div class="trust-section">
			<p class="trust-label">åˆ†æãƒ‡ãƒ¼ã‚¿</p>
			<div class="trust-stats">
				<div class="trust-item">
					<span class="trust-number">{isLoading ? '...' : stats.totalBills.toLocaleString()}</span>
					<span class="trust-text">æ³•æ¡ˆ</span>
				</div>
				<div class="trust-divider"></div>
				<div class="trust-item">
					<span class="trust-number">{isLoading ? '...' : stats.totalMembers.toLocaleString()}</span
					>
					<span class="trust-text">è­°å“¡</span>
				</div>
				<div class="trust-divider"></div>
				<div class="trust-item">
					<span class="trust-number">{isLoading ? '...' : stats.totalVotes.toLocaleString()}</span>
					<span class="trust-text">æŠ•ç¥¨è¨˜éŒ²</span>
				</div>
			</div>
		</div>
	</section>

	<!-- How It Works Section -->
	<section class="how-it-works">
		<h2 class="section-title">ä½¿ã„æ–¹ã¯ã‹ã‚“ãŸã‚“</h2>
		<div class="steps">
			<div class="step">
				<div class="step-number">1</div>
				<div class="step-content">
					<h3>æ³•æ¡ˆã«è³›å¦ã‚’å›ç­”</h3>
					<p>è¡¨ç¤ºã•ã‚Œã‚‹æ³•æ¡ˆã«å¯¾ã—ã¦ã€Œè³›æˆã€ã€Œåå¯¾ã€ã€Œã‚ã‹ã‚‰ãªã„ã€ã‚’é¸ã¶ã ã‘</p>
				</div>
			</div>
			<div class="step-arrow">â†’</div>
			<div class="step">
				<div class="step-number">2</div>
				<div class="step-content">
					<h3>åˆ†é‡ã®é‡è¦åº¦ã‚’è¨­å®š</h3>
					<p>å„æ”¿ç­–åˆ†é‡ãŒã‚ãªãŸã«ã¨ã£ã¦ã©ã‚Œãã‚‰ã„é‡è¦ã‹â˜…1ã€œ5ã§è©•ä¾¡</p>
				</div>
			</div>
			<div class="step-arrow">â†’</div>
			<div class="step">
				<div class="step-number">3</div>
				<div class="step-content">
					<h3>ãƒãƒƒãƒçµæœã‚’ç¢ºèª</h3>
					<p>ç·åˆã‚¹ã‚³ã‚¢ã¨åˆ†é‡åˆ¥ã‚¹ã‚³ã‚¢ã§ã‚ãªãŸã«è¿‘ã„è­°å“¡ãŒã‚ã‹ã‚‹</p>
				</div>
			</div>
		</div>
	</section>

	<!-- Primary CTA Card -->
	<section class="cta-section">
		<div class="cta-card">
			<div class="cta-content">
				<span class="cta-badge">ğŸ—³ï¸ ãƒ¡ã‚¤ãƒ³æ©Ÿèƒ½</span>
				<h2 class="cta-title">è­°å“¡ãƒãƒƒãƒãƒ³ã‚°</h2>
				<p class="cta-description">
					ã‚ãªãŸã®å›ç­”ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨å›½ä¼šè­°å“¡ã®æŠ•ç¥¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’AIãŒæ¯”è¼ƒåˆ†æã€‚
					è¤‡æ•°ã®æ”¿ç­–åˆ†é‡ã«ã‚ãŸã£ã¦ã€ç·åˆçš„ãªãƒãƒƒãƒåº¦ã‚’ç®—å‡ºã—ã¾ã™ã€‚
				</p>
				<ul class="cta-features">
					<li>âœ“ é©å¿œå‹è³ªå•é¸æŠã§åŠ¹ç‡çš„ã«åˆ†æ</li>
					<li>âœ“ 8ã¤ã®æ”¿ç­–åˆ†é‡ã‚’å€‹åˆ¥ã«è©•ä¾¡</li>
					<li>âœ“ é‡è¦åº¦ã‚¦ã‚§ã‚¤ãƒˆã§ç·åˆã‚¹ã‚³ã‚¢ç®—å‡º</li>
					<li>âœ“ å…¨è­°å“¡ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’è¡¨ç¤º</li>
				</ul>
				<a href="/match" class="cta-button">
					ä»Šã™ãè©¦ã™
					<span>â†’</span>
				</a>
			</div>
			<div class="cta-visual">
				<div class="visual-card">
					<div class="visual-header">ğŸ† ãƒãƒƒãƒçµæœ</div>
					<div class="visual-item top">
						<span class="rank">1</span>
						<span class="name">å±±ç”° å¤ªéƒ</span>
						<span class="score">92%</span>
					</div>
					<div class="visual-item">
						<span class="rank">2</span>
						<span class="name">éˆ´æœ¨ èŠ±å­</span>
						<span class="score">87%</span>
					</div>
					<div class="visual-item">
						<span class="rank">3</span>
						<span class="name">ä½è—¤ ä¸€éƒ</span>
						<span class="score">84%</span>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Features Section -->
	<section id="features" class="features">
		<h2 class="section-title">ãã®ä»–ã®åˆ†ææ©Ÿèƒ½</h2>
		<p class="section-subtitle">è©³ç´°ãªãƒ‡ãƒ¼ã‚¿åˆ†æã§æ”¿æ²»ã‚’ã‚‚ã£ã¨èº«è¿‘ã«</p>

		<div class="features-grid">
			<a href="/legislation-scores" class="feature-card">
				<div class="feature-icon">ğŸ¯</div>
				<h3>è­°æ¡ˆåˆ¥ã‚¹ã‚³ã‚¢åˆ†æ</h3>
				<p>å„è­°æ¡ˆã«å¯¾ã™ã‚‹è­°å“¡ã®è³›æˆãƒ»åå¯¾ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åˆ†æã—ã€æ”¿æ²»çš„ç«‹å ´ã‚’æ•°å€¤åŒ–</p>
				<span class="feature-link">è©³ã—ãè¦‹ã‚‹ â†’</span>
			</a>

			<a href="/bill-clustering" class="feature-card">
				<div class="feature-icon">ğŸ”¬</div>
				<h3>æ³•æ¡ˆã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°</h3>
				<p>æ©Ÿæ¢°å­¦ç¿’ã§æ³•æ¡ˆã‚’ãƒ™ã‚¯ãƒˆãƒ«åŒ–ã—ã€é¡ä¼¼ã™ã‚‹æ³•æ¡ˆã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ã¦å¯è¦–åŒ–</p>
				<span class="feature-link">è©³ã—ãè¦‹ã‚‹ â†’</span>
			</a>

			<a href="/member-vectors" class="feature-card">
				<div class="feature-icon">ğŸ§­</div>
				<h3>è­°å“¡ãƒ™ã‚¯ãƒˆãƒ«åˆ†æ</h3>
				<p>æŠ•ç¥¨å±¥æ­´ã‹ã‚‰è­°å“¡ã®æ”¿æ²»çš„æ–¹å‘æ€§ã‚’ãƒ™ã‚¯ãƒˆãƒ«åŒ–ã—ã€é¡ä¼¼æ€§ã‚’åˆ†æ</p>
				<span class="feature-link">è©³ã—ãè¦‹ã‚‹ â†’</span>
			</a>
		</div>
	</section>

	<!-- Footer CTA -->
	<section class="footer-cta">
		<h2>ã‚ãªãŸã«åˆã†è­°å“¡ã‚’è¦‹ã¤ã‘ã‚ˆã†</h2>
		<p>æ•°åˆ†ã®è³ªå•å›ç­”ã§ã€ã‚ãªãŸã®æ”¿æ²»çš„ä¾¡å€¤è¦³ã«æœ€ã‚‚è¿‘ã„å›½ä¼šè­°å“¡ãŒã‚ã‹ã‚Šã¾ã™</p>
		<a href="/match" class="btn-primary large">
			ãƒãƒƒãƒãƒ³ã‚°ã‚’å§‹ã‚ã‚‹
			<span class="btn-arrow">â†’</span>
		</a>
	</section>

	<!-- Footer -->
	<footer class="footer">
		<p>Candidate Match Â© 2025 - ãƒ‡ãƒ¼ã‚¿é§†å‹•å‹æ”¿æ²»åˆ†æãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ </p>
	</footer>
</div>

<style>
	.page {
		min-height: 100vh;
		background: #fafbfc;
	}

	/* Hero Section */
	.hero {
		text-align: center;
		padding: 6rem 2rem 4rem;
		max-width: 900px;
		margin: 0 auto;
	}

	.hero-badge {
		display: inline-block;
		background: linear-gradient(135deg, #eef2ff, #e0e7ff);
		color: #4f46e5;
		padding: 0.5rem 1.25rem;
		border-radius: 100px;
		font-size: 0.9rem;
		font-weight: 600;
		margin-bottom: 2rem;
	}

	.hero-title {
		font-size: clamp(2.5rem, 6vw, 4rem);
		font-weight: 800;
		line-height: 1.15;
		color: #1a1a2e;
		margin-bottom: 1.5rem;
		letter-spacing: -0.02em;
	}

	.gradient-text {
		background: linear-gradient(135deg, #6366f1 0%, #a855f7 50%, #ec4899 100%);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
	}

	.hero-subtitle {
		font-size: 1.25rem;
		color: #64748b;
		line-height: 1.7;
		max-width: 600px;
		margin: 0 auto 2.5rem;
	}

	.hero-buttons {
		display: flex;
		gap: 1rem;
		justify-content: center;
		flex-wrap: wrap;
		margin-bottom: 4rem;
	}

	.btn-primary {
		display: inline-flex;
		align-items: center;
		gap: 0.5rem;
		background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
		color: white;
		padding: 1rem 2rem;
		border-radius: 12px;
		font-size: 1.1rem;
		font-weight: 600;
		text-decoration: none;
		box-shadow: 0 4px 14px rgba(99, 102, 241, 0.4);
		transition: all 0.2s ease;
	}

	.btn-primary:hover {
		transform: translateY(-2px);
		box-shadow: 0 6px 20px rgba(99, 102, 241, 0.5);
	}

	.btn-primary.large {
		padding: 1.25rem 2.5rem;
		font-size: 1.2rem;
	}

	.btn-arrow {
		transition: transform 0.2s ease;
	}

	.btn-primary:hover .btn-arrow {
		transform: translateX(4px);
	}

	.btn-secondary {
		display: inline-flex;
		align-items: center;
		background: white;
		color: #374151;
		padding: 1rem 2rem;
		border-radius: 12px;
		font-size: 1.1rem;
		font-weight: 600;
		text-decoration: none;
		border: 2px solid #e5e7eb;
		transition: all 0.2s ease;
	}

	.btn-secondary:hover {
		border-color: #6366f1;
		color: #6366f1;
	}

	/* Trust Section */
	.trust-section {
		padding-top: 2rem;
		border-top: 1px solid #e5e7eb;
	}

	.trust-label {
		font-size: 0.85rem;
		color: #94a3b8;
		text-transform: uppercase;
		letter-spacing: 0.1em;
		margin-bottom: 1rem;
	}

	.trust-stats {
		display: flex;
		justify-content: center;
		align-items: center;
		gap: 2rem;
		flex-wrap: wrap;
	}

	.trust-item {
		display: flex;
		align-items: baseline;
		gap: 0.5rem;
	}

	.trust-number {
		font-size: 1.75rem;
		font-weight: 800;
		color: #1a1a2e;
	}

	.trust-text {
		font-size: 1rem;
		color: #64748b;
	}

	.trust-divider {
		width: 1px;
		height: 30px;
		background: #e5e7eb;
	}

	/* How It Works */
	.how-it-works {
		background: white;
		padding: 5rem 2rem;
		border-top: 1px solid #e5e7eb;
		border-bottom: 1px solid #e5e7eb;
	}

	.section-title {
		text-align: center;
		font-size: 2.25rem;
		font-weight: 800;
		color: #1a1a2e;
		margin-bottom: 1rem;
	}

	.section-subtitle {
		text-align: center;
		font-size: 1.1rem;
		color: #64748b;
		margin-bottom: 3rem;
	}

	.steps {
		display: flex;
		justify-content: center;
		align-items: flex-start;
		gap: 1.5rem;
		max-width: 1000px;
		margin: 3rem auto 0;
		flex-wrap: wrap;
	}

	.step {
		flex: 1;
		min-width: 200px;
		max-width: 280px;
		text-align: center;
	}

	.step-number {
		width: 48px;
		height: 48px;
		background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
		color: white;
		font-size: 1.25rem;
		font-weight: 700;
		border-radius: 50%;
		display: flex;
		align-items: center;
		justify-content: center;
		margin: 0 auto 1.25rem;
	}

	.step-content h3 {
		font-size: 1.1rem;
		font-weight: 700;
		color: #1a1a2e;
		margin-bottom: 0.5rem;
	}

	.step-content p {
		font-size: 0.95rem;
		color: #64748b;
		line-height: 1.6;
	}

	.step-arrow {
		color: #d1d5db;
		font-size: 1.5rem;
		padding-top: 0.75rem;
	}

	/* CTA Section */
	.cta-section {
		padding: 5rem 2rem;
		max-width: 1100px;
		margin: 0 auto;
	}

	.cta-card {
		background: linear-gradient(135deg, #6366f1 0%, #4f46e5 50%, #7c3aed 100%);
		border-radius: 24px;
		padding: 3rem;
		display: grid;
		grid-template-columns: 1fr 1fr;
		gap: 3rem;
		align-items: center;
		box-shadow: 0 20px 60px rgba(99, 102, 241, 0.3);
	}

	.cta-badge {
		display: inline-block;
		background: rgba(255, 255, 255, 0.2);
		color: white;
		padding: 0.4rem 1rem;
		border-radius: 100px;
		font-size: 0.85rem;
		font-weight: 600;
		margin-bottom: 1rem;
	}

	.cta-title {
		font-size: 2.5rem;
		font-weight: 800;
		color: white;
		margin-bottom: 1rem;
	}

	.cta-description {
		font-size: 1.1rem;
		color: rgba(255, 255, 255, 0.9);
		line-height: 1.7;
		margin-bottom: 1.5rem;
	}

	.cta-features {
		list-style: none;
		padding: 0;
		margin: 0 0 2rem 0;
	}

	.cta-features li {
		color: rgba(255, 255, 255, 0.9);
		font-size: 1rem;
		padding: 0.4rem 0;
	}

	.cta-button {
		display: inline-flex;
		align-items: center;
		gap: 0.5rem;
		background: white;
		color: #4f46e5;
		padding: 1rem 2rem;
		border-radius: 12px;
		font-size: 1.1rem;
		font-weight: 700;
		text-decoration: none;
		transition: all 0.2s ease;
	}

	.cta-button:hover {
		transform: translateY(-2px);
		box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
	}

	.cta-visual {
		display: flex;
		justify-content: center;
	}

	.visual-card {
		background: white;
		border-radius: 16px;
		padding: 1.5rem;
		width: 280px;
		box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
	}

	.visual-header {
		font-size: 1rem;
		font-weight: 700;
		color: #1a1a2e;
		margin-bottom: 1rem;
		padding-bottom: 0.75rem;
		border-bottom: 1px solid #e5e7eb;
	}

	.visual-item {
		display: flex;
		align-items: center;
		gap: 0.75rem;
		padding: 0.75rem 0;
		border-bottom: 1px solid #f3f4f6;
	}

	.visual-item:last-child {
		border-bottom: none;
	}

	.visual-item.top {
		background: linear-gradient(135deg, #fef3c7, #fde68a);
		margin: -0.5rem;
		padding: 1rem;
		border-radius: 8px;
		margin-bottom: 0.5rem;
	}

	.visual-item .rank {
		width: 24px;
		height: 24px;
		background: #6366f1;
		color: white;
		font-size: 0.8rem;
		font-weight: 700;
		border-radius: 50%;
		display: flex;
		align-items: center;
		justify-content: center;
	}

	.visual-item.top .rank {
		background: #f59e0b;
	}

	.visual-item .name {
		flex: 1;
		font-weight: 600;
		color: #374151;
	}

	.visual-item .score {
		font-weight: 700;
		color: #10b981;
	}

	/* Features Section */
	.features {
		padding: 5rem 2rem;
		max-width: 1100px;
		margin: 0 auto;
	}

	.features-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
		gap: 1.5rem;
		margin-top: 3rem;
	}

	.feature-card {
		background: white;
		border: 1px solid #e5e7eb;
		border-radius: 16px;
		padding: 2rem;
		text-decoration: none;
		transition: all 0.2s ease;
	}

	.feature-card:hover {
		border-color: #6366f1;
		box-shadow: 0 10px 30px rgba(99, 102, 241, 0.1);
		transform: translateY(-4px);
	}

	.feature-icon {
		font-size: 2.5rem;
		margin-bottom: 1rem;
	}

	.feature-card h3 {
		font-size: 1.25rem;
		font-weight: 700;
		color: #1a1a2e;
		margin-bottom: 0.75rem;
	}

	.feature-card p {
		font-size: 0.95rem;
		color: #64748b;
		line-height: 1.6;
		margin-bottom: 1rem;
	}

	.feature-link {
		color: #6366f1;
		font-weight: 600;
		font-size: 0.95rem;
	}

	/* Footer CTA */
	.footer-cta {
		background: #1a1a2e;
		padding: 5rem 2rem;
		text-align: center;
	}

	.footer-cta h2 {
		font-size: 2.25rem;
		font-weight: 800;
		color: white;
		margin-bottom: 1rem;
	}

	.footer-cta p {
		font-size: 1.1rem;
		color: rgba(255, 255, 255, 0.7);
		margin-bottom: 2rem;
	}

	/* Footer */
	.footer {
		background: #0f0f1a;
		padding: 2rem;
		text-align: center;
	}

	.footer p {
		color: rgba(255, 255, 255, 0.5);
		font-size: 0.9rem;
	}

	/* Responsive */
	@media (max-width: 768px) {
		.hero {
			padding: 4rem 1.5rem 3rem;
		}

		.cta-card {
			grid-template-columns: 1fr;
			padding: 2rem;
		}

		.cta-visual {
			order: -1;
		}

		.step-arrow {
			display: none;
		}

		.steps {
			flex-direction: column;
			align-items: center;
		}

		.trust-divider {
			display: none;
		}

		.trust-stats {
			gap: 1.5rem;
		}
	}
</style>
